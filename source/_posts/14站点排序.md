---
title: 14站点排序
tags:
  - 站点排序
date: 2018-05-22 15:05:04
category: shell
---
当前有个文件receivepack.log，按行存储，每行是一个日志，包含一个url。  
>grep -oP "\"result\":\d+" receivepack.log|sort|uniq -c|sort -nr  

当前有个文件urls_0604.log，按行存储，每行是一个url，将域名提取出来，汇总排序。
>grep -oP "://.*(\.com?|\.cn?|\.net?)?" urls_0604.log |sort|uniq -c|sort -nr

非贪婪模式，得到url站点并排序：
>grep -oP "://.*?(\.com?|\.cn?|\.net?)/" urls_0604.log |sort|uniq -c|sort -nr > lazyopresult.log  

![](/images/shell/shell-06.png)