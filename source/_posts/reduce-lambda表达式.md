---
title: reduce+lambda表达式
date: 2018-05-21 14:14:47
tags:
- reduce-lambda
category: python
---
## 1.lambda表达式：
func=lambda x:x+1  
print(func(1))  
#2  
print(func(2))   
#以上lambda等同于以下函数  
def func(x):  
&ensp;&ensp;return(x+1)  
可以这样认为,lambda作为一个表达式，定义了一个 *`匿名函数`* ，上例的代码 *`x为入口参数，x+1为函数体`* 。在这里lambda简化了函数定义的书写形式。是代码更为简洁，但是使用函数的定义方式更为直观，易理解。  
Python中，也有几个定义好的全局函数方便使用的， *`filter, map, reduce`* 。  
## 2.reduce
reduce把一个函数作用在一个序列[x1, x2, x3...]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算，其效果就是：  
>reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)

举例：将一个数组去重，则可以这样写：  
>keys=[1,2,3,3,4,5,5,5,6,7]  
keys = reduce(lambda x, y: x if y in x else x + [y], [[], ] + keys)  

+ 首先在原来数据的首位加上一个元素：一个空的数组，[]，则要遍历的数据就变成：[[], 1, 2, 3, 3, 4, 5, 5, 5, 6, 7]。 *`原因是：每次取出数组中的一个元素判断是否在之前已经去重的数组中，所以每次判断的对象必须是个数组，而不是一个元素，所以要加上一个空数组，每次去重之后就把元素添加到这个空数组中`* 。  
+ 在reduce方法中适用lambda表达式，每次取出x，y两个元素，判断y是否在x中（x是数组），如果在，则仅返回x；如果不在，则返回x + [y]，也就是将y添加到数组x中。返回的数组x作为下一次判断的数组x，从 [[], ] + keys中再取出一个元素y，继续判断。  
+ 所以，最终结果是，将数组进行了去重。

